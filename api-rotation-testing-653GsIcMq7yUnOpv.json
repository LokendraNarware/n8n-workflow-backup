{"createdAt":"2025-02-21T17:42:35.009Z","updatedAt":"2025-02-21T18:05:24.355Z","id":"653GsIcMq7yUnOpv","name":"api rotation testing","active":false,"nodes":[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"091c3e78-28cb-4b1c-a845-c6768b0cdb34","name":"When clicking ‘Test workflow’"},{"parameters":{"jsCode":"const cities = [\n  \"Mumbai\", \"Delhi\", \"Bangalore\", \"Hyderabad\", \"Pune\", \"Agra\", \"Ahmedabad\", \"Bhubaneswar\", \"Chennai\", \"Kolkata\",\n  \"Jaipur\", \"Srinagar\", \"Jammu\", \"Nagpur\", \"Cuttack\", \"Bhopal\", \"Patna\", \"Guwahati\", \"Kanpur\", \"Ranchi\",\n  \"Cochin\", \"Surat\", \"Nashik\", \"Itanagar\", \"Ara\", \"Barauni\", \"Begusarai\", \"Bhagalpur\", \"Bihar Sharif\", \"Bodh Gaya\",\n  \"Buxar\", \"Chapra\", \"Darbhanga\", \"Dehri\", \"Dinapur Nizamat\", \"Gaya\", \"Hajipur\", \"Azamgarh\", \"Bahraich\", \"Ballia\",\n  \"Banda\", \"Bara Banki\", \"Bareilly\", \"Basti\", \"Bijnor\", \"Bithur\", \"Budaun\", \"Bulandshahr\", \"Deoria\", \"Etah\",\n  \"Etawah\", \"Farrukhabad-cum-Fatehgarh\", \"Fatehpur\", \"Fatehpur Sikri\", \"Ghaziabad\", \"Ghazipur\", \"Gonda\", \"Gorakhpur\", \"Hamirpur\",\n  \"Hardoi\", \"Hathras\", \"Jalaun\", \"Jaunpur\", \"Jhansi\", \"Kannauj\", \"Lakhimpur\", \"Lalitpur\", \"Lucknow\", \"Mainpuri\",\n  \"Mathura\", \"Meerut\", \"Mirzapur-Vindhyachal\", \"Moradabad\", \"Muzaffarnagar\", \"Partapgarh\", \"Pilibhit\", \"Prayagraj\", \"Rae Bareli\", \"Rampur\",\n  \"Saharanpur\", \"Sambhal\", \"Shahjahanpur\", \"Sitapur\", \"Sultanpur\", \"Tehri\", \"Varanasi\"\n];\n\nconst apiKeys = [\n  \"a735afca84msh69004421859bda1p1c51ccjsn4fd1b7be51a4\",\n  \"NA\"\n];\n\nconst result = cities.map((city, index) => {\n  const apiKey = apiKeys[Math.floor(index / 50)]; // Switch API key after every 50 cities\n  return { json: { city, apiKey } };\n});\n\nreturn result;\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[220,0],"id":"8105a997-3fd3-44a4-bca6-529aeb812492","name":"Code"},{"parameters":{"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[440,0],"id":"9884dd8c-3ab3-4d66-95e1-ff93d71ed14e","name":"HTTP Request"}],"connections":{"When clicking ‘Test workflow’":{"main":[[{"node":"Code","type":"main","index":0}]]},"Code":{"main":[[{"node":"HTTP Request","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"e341ba71-9004-42a9-a852-65e573024614","triggerCount":0,"tags":[]}