{"createdAt":"2025-02-23T18:25:40.859Z","updatedAt":"2025-02-23T18:34:40.558Z","id":"kpXyiv4dMTnJ7PUL","name":"email name extractor","active":false,"nodes":[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"226d400d-ed16-4ac1-80c5-2333f0452c98","name":"When clicking ‘Test workflow’"},{"parameters":{"jsCode":"return [\n  {\n    json: {\n      emails: [\n        \"avivasports07@gmail.com\",\n        \"shivprasady22@gmail.com\",\n        \"sobitvlogs@gmail.com\",\n        \"HB4C0-RE@ACCOR.com\",\n        \"klemumbailawcollege@gmail.com\",\n        \"prin.claracollegeofeducation@gmail.com\",\n        \"yojanaarch@gmail.com\",\n        \"malabarhillclub@gmail.com\",\n        \"explore@curiositygym.com\",\n        \"drvarshasharma@gmail.com\",\n        \"info@intercontinentalmumbai.com\",\n        \"dcl@airbornerecruiting.com\",\n        \"Manmeetsingh12940@gmail.com\",\n        \"FRIENDSSALES171@GMAIL.COM\",\n        \"mumbai.borivali@safari.in\",\n        \"girish.nair@gmail.com\",\n        \"theunionfit@gmail.com\",\n        \"pugmodeltowndelhi@gmail.com\",\n        \"hargobinddelhipug@gmail.com\",\n        \"fitgymnitin@gmail.com\",\n        \"fatheroffitness@gmail.com\",\n        \"ultimategymsolutions@gmail.com\",\n        \"JerryCheshire@hotmail.com\",\n        \"yashpal2november@gmail.com\",\n        \"sethkaran22@gmail.com\",\n        \"pallium.marketing@gmail.com\",\n        \"blacksgymsaket@gmail.com\",\n        \"arshakram735@gmail.com\",\n        \"ufequipments@gmail.com\",\n        \"jaifitnespoint@gmail.com\",\n        \"newfitnessfactory22@gmail.com\",\n        \"bodygaraz.info@gmail.com\",\n        \"maxsports22@gmail.com\",\n        \"info@probodyfit.in\",\n        \"elitefitness71@gmail.com\",\n        \"pkd.vulinhbuslines@gmail.com\",\n        \"ajazkhanbusiness@gmail.com\",\n        \"Earthfootwear1984@gmail.com\",\n        \"Wonfilms2013@gmail.com\",\n        \"ultimategymsolution@gmail.com\",\n        \"tripathi.durba@gmail.com\",\n        \"fitdeck33@gmail.com\",\n        \"jpgymandhealthclub@gmail.com\",\n        \"Vijay.viju5678@gmail.com\",\n        \"sharathhere22@gmail.com\",\n        \"femininenagarbhavi@gmail.com\",\n        \"puntusports@gmail.com\",\n        \"studioedgefitness@gmail.com\",\n        \"cosmoclubjnr@gmail.com\",\n        \"sunmartialartsacademy22@gmail.com\",\n        \"umaprabu22@gmail.com\",\n        \"roskstarranith@gmail.com\",\n        \"girish1972@yahoo.com\",\n        \"zelexfitness@gmail.com\",\n        \"vervegym@gmail.com\",\n        \"suhasini.shankar0@gmail.com\",\n        \"liftwithg2018@gmail.com\",\n        \"ahmed.frozen@gmail.com\",\n        \"speedjunkie25@gmail.com\",\n        \"tfgwdoc@gmail.com\",\n        \"officialden.2.fit@gmail.com\",\n        \"rm.downsretreat@gmail.com\",\n        \"infodesk@larsentoubro.com\",\n        \"rdpr.info@gmail.com\",\n        \"akash.majumder1@gmail.com\",\n        \"bangaloretrafficpolice@gmail.com\",\n        \"Sharansuvesh4@gmail.Com\",\n        \"thinsipiration9@gmail.com\",\n        \"proultimatehyderabad@gmail.com\",\n        \"rsbhyderabad2015@gmail.com\",\n        \"rashida23@gmail.com\",\n        \"fitnessgurukul01@gmail.com\",\n        \"hyderabadgymkhana@banjarahills.com\",\n        \"dheerajnasa86@gmail.com\",\n        \"nsnfitnessgym@gmail.com\",\n        \"pk3160934@gmail.com\",\n        \"wacchenfops@gmail.com\",\n        \"AdityaNutra@gmail.com\",\n        \"ebinazerdinnu@gmail.com\",\n        \"Fitvatsav@gmail.com\",\n        \"sarghnya@gmail.com\",\n        \"dawoodgymhyd@gmail.com\"\n      ]\n    }\n  }\n];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[220,0],"id":"d4b2b5a4-7975-4aa7-8fe9-656b1f3f752f","name":"Code"},{"parameters":{"jsCode":"const extractName = (email) => {\n  const localPart = email.split('@')[0]; // Get the part before '@'\n\n  // Remove numbers and special characters except dots and underscores\n  let cleanedName = localPart.replace(/[\\d-]+/g, ' ').trim();\n\n  // Split by spaces, dots, and underscores\n  let words = cleanedName.split(/[._\\s]+/).filter(word => word.length > 1);\n\n  // If there's only one word, try to split it into two parts intelligently\n  if (words.length === 1) {\n    const word = words[0];\n\n    // Try splitting into two parts based on uppercase transitions (CamelCase handling)\n    const splitByUpper = word.replace(/([a-z])([A-Z])/g, '$1 $2').split(' ');\n\n    // If splitting worked, use that\n    if (splitByUpper.length >= 2) {\n      words = splitByUpper;\n    }\n    // Otherwise, attempt to split between two halves (basic heuristic)\n    else if (word.length > 6) {\n      let mid = Math.floor(word.length / 2);\n      words = [word.slice(0, mid), word.slice(mid)];\n    }\n  }\n\n  // Ensure at least two words and format them properly\n  if (words.length >= 2) {\n    return words\n      .slice(0, 2) // Take first two words\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ');\n  }\n\n  // If there's still only one word, return it formatted\n  return words.length > 0 ? words[0].charAt(0).toUpperCase() + words[0].slice(1) : \"\";\n};\n\nconst emails = items[0].json.emails;\nconst extractedNames = emails.map(email => ({\n  email,\n  fullName: extractName(email)\n}));\n\nreturn extractedNames.map(data => ({ json: data }));\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[380,0],"id":"0af4d822-48e7-410c-81b1-777f6caf813b","name":"Code1"}],"connections":{"When clicking ‘Test workflow’":{"main":[[{"node":"Code","type":"main","index":0}]]},"Code":{"main":[[{"node":"Code1","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"b76452ff-29d4-4218-b5c1-d010e455a4ae","triggerCount":0,"tags":[{"createdAt":"2025-02-23T18:34:30.373Z","updatedAt":"2025-02-23T18:34:30.373Z","id":"Cfn2nc3LBqJE7Uk0","name":"improvement needed"}]}